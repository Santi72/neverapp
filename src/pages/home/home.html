
<ion-header>
     <ion-navbar>

      <ion-title>
        NeverApp
      </ion-title>

      <ion-buttons left>
        <button ion-button icon-only (click)="mostrarMenu()">
          <ion-icon name="menu"></ion-icon>
        </button>
      </ion-buttons>        

    </ion-navbar>

</ion-header>


<ion-menu [content]="content" type="overlay">

  <ion-header>
    <ion-toolbar>
      <ion-title>Menú</ion-title>
    </ion-toolbar>  
  </ion-header>

  <ion-content>
    <ion-list>
      <button ion-item (click)="verLista()">
        Actualizar Lista
      </button>
      <button ion-item (click)="limpiarLista()">
        Limpiar Lista        
      </button>
      <button ion-item (click)="signOut()">
        Cerrar Sesión
      </button>

    </ion-list>
  </ion-content>

</ion-menu>

<ion-nav id="nav" #content [root]="rootPage"></ion-nav>


<ion-content padding text-center>


<ion-list> 

      <button ion-item 
        *ngFor="let k of productos | keys ; "
        
        (click)="tacharProducto(productos[k].tachado,k)">

        <p *ngIf="productos[k].tachado; then thenTemplate; else elseTemplate"></p>
        <ng-template #thenTemplate>  
            <p text-right>
            <del><h2>{{productos[k].nombre}}</h2></del>                          
            <del>{{productos[k].marca | uppercase}}</del>            
            
            <ion-note item-end>
              En el carrito
            </ion-note>
            </p>
        </ng-template>

        <ng-template #elseTemplate>
            <h2>{{productos[k].nombre}}</h2>            
            {{ productos[k].marca | uppercase }}
            <ion-note item-end>
              Cantidad: {{ productos[k].cantidad }}
            </ion-note>  
        </ng-template>  
        
         
   
      </button>  

      <div *ngIf="loading" 
        class="alert alert-warning" role="alert">
        <strong>Cargando tu lista</strong> por favor espera
      </div>


      <div *ngIf="(productos | keys).length === 0 && !loading"
              class="alert alert-info" role="alert">
              <strong>No hay productos</strong> añade el primero!
      </div>
    
 
</ion-list>


  <ion-fab bottom right>
    <button (click)="apuntarProducto()" ion-fab>
      <ion-icon name="add"></ion-icon>
    </button>
  </ion-fab>

 

</ion-content>


